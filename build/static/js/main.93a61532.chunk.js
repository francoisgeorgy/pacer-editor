(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){},32:function(e,t,a){},43:function(e,t,a){e.exports=a(98)},49:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},79:function(e,t,a){},82:function(e,t,a){},92:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);a(44);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),s=(a(49),a(6)),o=a(7),i=a(9),u=a(8),m=a(4),d=a(3),p=a(17),f=a.n(p),h=a(24),v=a(5),E=a(10),b=a.n(E);function g(e){var t=b.a.inputs.find(function(t){return t.id===e});return t||b.a.outputs.find(function(t){return t.id===e})}function y(e){return b.a.outputs.find(function(t){return t.id===e})}var O=a(1),j=function(e){return new Promise(function(t){return setTimeout(t,e)})};function N(e){return void 0!==e&&null!==e&&""!==e&&e>=0}var C,w,P,D,x,R,k,I,S,M,A={position:"absolute",top:0,right:0,bottom:0,left:0,paddingTop:"4rem",background:"rgba(0,0,0,0.4)",textAlign:"center",color:"#fff",fontSize:"4rem"},F=[0,1,119],_=[127],T=1,B=2,L=1,U=5,G=(C={},Object(O.a)(C,L,"preset"),Object(O.a)(C,U,"global"),Object(O.a)(C,7,"full backup"),C),Z=["switch 1","switch 2","switch 3","switch 4","switch 5","switch 6",null,"switch A","switch B","switch C","switch D","FS 1","FS 2","FS 3","FS 4","EXP 1","EXP 2"],W=["Current","Track","Transport","A1","A2","A3","A4","A5","A6","B1","B2","B3","B4","B5","B6","C1","C2","C3","C4","C5","C6","D1","D2","D3","D4","D5","D6"],H=1,V=13,Y=14,X=15,z=16,q=17,K=18,J=20,Q=21,$=22,ee=23,te=24,ae=25,ne=26,re=27,ce=54,le=55,se=126,oe=127,ie=(w={},Object(O.a)(w,H,"name"),Object(O.a)(w,V,"1"),Object(O.a)(w,Y,"2"),Object(O.a)(w,X,"3"),Object(O.a)(w,z,"4"),Object(O.a)(w,q,"5"),Object(O.a)(w,K,"6"),Object(O.a)(w,19,"RESERVED"),Object(O.a)(w,J,"A"),Object(O.a)(w,Q,"B"),Object(O.a)(w,$,"C"),Object(O.a)(w,ee,"D"),Object(O.a)(w,te,"FS 1"),Object(O.a)(w,ae,"FS 2"),Object(O.a)(w,ne,"FS 3"),Object(O.a)(w,re,"FS 4"),Object(O.a)(w,ce,"EXP 1"),Object(O.a)(w,le,"EXP 2"),Object(O.a)(w,se,"MIDI configuration"),Object(O.a)(w,oe,"ALL"),w),ue={1:"Preset Name",13:"Stompswitch 1",14:"Stompswitch 2",15:"Stompswitch 3",16:"Stompswitch 4",17:"Stompswitch 5",18:"Stompswitch 6",19:"RESERVED",20:"Stompswitch A",21:"Stompswitch B",22:"Stompswitch C",23:"Stompswitch D",24:"Footswitch 1",25:"Footswitch 2",26:"Footswitch 3",27:"Footswitch 4",54:"Expression Pedal 1",55:"Expression Pedal 2",126:"MIDI configuration",127:"ALL"},me=([13,14,15,16,17,18,20,21,22,23].map(String),[20,21,22,23].map(String)),de=[13,14,15,16,17,18].map(String),pe=[24,25,26,27].map(String),fe=[54,55].map(String),he=97,ve=(P={},Object(O.a)(P,0,"CC"),Object(O.a)(P,3,"NRPN C"),Object(O.a)(P,4,"NRPN F"),Object(O.a)(P,1,"PITCH"),Object(O.a)(P,2,"AT CHAN"),Object(O.a)(P,126,"DAW FUNC"),Object(O.a)(P,he,"CTRL_OFF"),Object(O.a)(P,71,"CC TOGGLE"),Object(O.a)(P,64,"CC"),Object(O.a)(P,72,"CC STEP"),Object(O.a)(P,67,"NOTE"),Object(O.a)(P,68,"NOTE TOGGLE"),Object(O.a)(P,69,"PRG BANK"),Object(O.a)(P,70,"PRG STEP"),Object(O.a)(P,87,"NRPN COARSE"),Object(O.a)(P,88,"NRPN FINE"),Object(O.a)(P,85,"MMC"),Object(O.a)(P,89,"RELAY"),Object(O.a)(P,98,"PRESET SELECT"),Object(O.a)(P,86,"PRESET INC DEC"),Object(O.a)(P,99,"STEP SELECT"),Object(O.a)(P,100,"STEP INC DEC"),Object(O.a)(P,18,"CC"),Object(O.a)(P,17,"CC REL"),Object(O.a)(P,21,"NRPN C"),Object(O.a)(P,22,"NRPN F"),Object(O.a)(P,19,"PITCH"),Object(O.a)(P,20,"AT CHAN"),Object(O.a)(P,16,"PRG"),Object(O.a)(P,23,"PRESET SEL"),Object(O.a)(P,24,"STEP SEL"),Object(O.a)(P,101,"CC"),P),Ee=(D={},Object(O.a)(D,0,"CC"),Object(O.a)(D,3,"NRPN C"),Object(O.a)(D,4,"NRPN F"),Object(O.a)(D,1,"Pitch"),Object(O.a)(D,2,"AT CHAN"),Object(O.a)(D,126,"DAW"),Object(O.a)(D,he,"OFF"),Object(O.a)(D,71,"CC tggl"),Object(O.a)(D,64,"CC"),Object(O.a)(D,72,"CC step"),Object(O.a)(D,67,"Note"),Object(O.a)(D,68,"Note tggl"),Object(O.a)(D,69,"Prg bank"),Object(O.a)(D,70,"Prg step"),Object(O.a)(D,87,"NRPN C"),Object(O.a)(D,88,"NRPN F"),Object(O.a)(D,85,"MMC"),Object(O.a)(D,89,"Relay"),Object(O.a)(D,98,"Preset sel"),Object(O.a)(D,86,"Preset +/-"),Object(O.a)(D,99,"Step sel"),Object(O.a)(D,100,"Step +/-"),Object(O.a)(D,18,"CC"),Object(O.a)(D,17,"CC rel"),Object(O.a)(D,21,"NRPN C"),Object(O.a)(D,22,"NRPN F"),Object(O.a)(D,19,"Pitch"),Object(O.a)(D,20,"AT chan"),Object(O.a)(D,16,"Prg"),Object(O.a)(D,23,"Preset sel"),Object(O.a)(D,24,"Step sel"),Object(O.a)(D,101,"CC"),x={},Object(O.a)(x,he,"OFF"),Object(O.a)(x,0,"CC"),Object(O.a)(x,3,"NRPN Coarse"),Object(O.a)(x,4,"NRPN Fine"),Object(O.a)(x,1,"Pitch Bend"),Object(O.a)(x,2,"Channel AfterTouch"),Object(O.a)(x,126,"DAW Function"),Object(O.a)(x,71,"CC Toggle"),Object(O.a)(x,64,"CC Trigger"),Object(O.a)(x,72,"CC Step"),Object(O.a)(x,67,"Note"),Object(O.a)(x,68,"Note Toggle"),Object(O.a)(x,69,"Program & Bank"),Object(O.a)(x,70,"Program Step"),Object(O.a)(x,87,"NRPN Coarse"),Object(O.a)(x,88,"NRPN Fine"),Object(O.a)(x,85,"MIDI Machine Control"),Object(O.a)(x,89,"Relay Outputs"),Object(O.a)(x,98,"Preset Select"),Object(O.a)(x,86,"Preset Inc/Dec"),Object(O.a)(x,99,"Step Select"),Object(O.a)(x,100,"Step Inc/Dec"),Object(O.a)(x,18,"CC"),Object(O.a)(x,17,"CC REL"),Object(O.a)(x,21,"NRPN Coarse"),Object(O.a)(x,22,"NRPN Fine"),Object(O.a)(x,19,"Pitch Bend"),Object(O.a)(x,20,"AT Chan."),Object(O.a)(x,16,"Program"),Object(O.a)(x,23,"Preset Sel"),Object(O.a)(x,24,"Step Sel"),x),be=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push({key:a,value:e[a]});return t.sort(function(e,t){return e.value.localeCompare(t.value)}),t}((R={},Object(O.a)(R,101,"Load CC"),Object(O.a)(R,67,"MIDI Note"),Object(O.a)(R,69,"Program & Bank"),Object(O.a)(R,87,"NRPN Coarse"),Object(O.a)(R,88,"NRPN Fine"),Object(O.a)(R,85,"MIDI Machine Control"),Object(O.a)(R,89,"Relay Outputs"),Object(O.a)(R,126,"DAW Func."),Object(O.a)(R,he,"OFF"),R)),ge="not used",ye=(k={},Object(O.a)(k,he,["","",""]),Object(O.a)(k,0,["Controller","Min","Max"]),Object(O.a)(k,3,["Max","NRPN LSB","NRPN MSB"]),Object(O.a)(k,4,["Max","NRPN LSB","NRPN MSB"]),Object(O.a)(k,1,[ge,"Min","Max"]),Object(O.a)(k,2,[ge,"Min","Max"]),Object(O.a)(k,126,["function",ge,ge]),Object(O.a)(k,71,["controller","value 1","value 2"]),Object(O.a)(k,64,["controller","down","up"]),Object(O.a)(k,72,["controller","start","end"]),Object(O.a)(k,67,["note","velocity",ge]),Object(O.a)(k,68,["note","velocity",ge]),Object(O.a)(k,69,["program","bank LSB","bank MSB"]),Object(O.a)(k,70,[ge,"start","end"]),Object(O.a)(k,87,["value","NRPN LSB","NRPN MSB"]),Object(O.a)(k,88,["value","NRPN LSB","NRPN MSB"]),Object(O.a)(k,85,["device","command",ge]),Object(O.a)(k,89,["mode","relay #",ge]),Object(O.a)(k,98,["preset",ge,ge]),Object(O.a)(k,86,["inc/dec",ge,ge]),Object(O.a)(k,99,["target","step",ge]),Object(O.a)(k,100,["target","inc/dec",ge]),Object(O.a)(k,18,["","",""]),Object(O.a)(k,17,["","",""]),Object(O.a)(k,21,["","",""]),Object(O.a)(k,22,["","",""]),Object(O.a)(k,19,["","",""]),Object(O.a)(k,20,["","",""]),Object(O.a)(k,16,["","",""]),Object(O.a)(k,23,["","",""]),Object(O.a)(k,24,["","",""]),Object(O.a)(k,101,["controller","value",ge]),k),Oe=(I={},Object(O.a)(I,0,[!0,!0,!0]),Object(O.a)(I,3,[!0,!0,!0]),Object(O.a)(I,4,[!0,!0,!0]),Object(O.a)(I,1,[!0,!0,!0]),Object(O.a)(I,2,[!0,!0,!0]),Object(O.a)(I,126,[!0,!1,!1]),Object(O.a)(I,he,[!0,!0,!0]),Object(O.a)(I,71,[!0,!0,!0]),Object(O.a)(I,64,[!0,!0,!0]),Object(O.a)(I,72,[!0,!0,!0]),Object(O.a)(I,67,[!0,!0,!1]),Object(O.a)(I,68,[!0,!0,!1]),Object(O.a)(I,69,[!0,!0,!0]),Object(O.a)(I,70,[!1,!0,!0]),Object(O.a)(I,87,[!0,!0,!0]),Object(O.a)(I,88,[!0,!0,!0]),Object(O.a)(I,85,[!0,!0,!1]),Object(O.a)(I,89,[!0,!0,!1]),Object(O.a)(I,98,[!0,!1,!1]),Object(O.a)(I,86,[!0,!1,!1]),Object(O.a)(I,99,[!0,!0,!1]),Object(O.a)(I,100,[!0,!0,!1]),Object(O.a)(I,18,[!0,!0,!0]),Object(O.a)(I,17,[!0,!0,!0]),Object(O.a)(I,21,[!0,!0,!0]),Object(O.a)(I,22,[!0,!0,!0]),Object(O.a)(I,19,[!0,!0,!0]),Object(O.a)(I,20,[!0,!0,!0]),Object(O.a)(I,16,[!0,!0,!0]),Object(O.a)(I,23,[!0,!0,!0]),Object(O.a)(I,24,[!0,!0,!0]),Object(O.a)(I,101,[!0,!0,!1]),I),je=[71,64,72,67,68,69,70,87,88,85,89,98,86,99,100,he],Ne=[71,64,72,67,68,69,70,87,88,85,89,98,86,99,100,he],Ce=[0,3,4,1,2,he],we=["Auto Detect","Normally Open","Normally Closed","Latching"],Pe={0:"Off",1:"1A Pink",2:"1B Dim Pink",3:"2A Red",4:"2B Dim Red",5:"3A Orange",6:"3B Dim Orange",7:"4A Amber",8:"4B Dim Amber",9:"5A Yellow",10:"5B Dim Yellow",11:"6A Lime",12:"6B Dim Lime",13:"7A Green",14:"7B Dim Green",15:"8A Teal",16:"8B Dim Teal",17:"9A Blue",18:"9B Dim Blue",19:"10A Lavender",20:"10B Dim Lavender",21:"11A Purple",22:"11B Dim Purple",23:"12A White",24:"12B Dim White"},De={0:"#000000",1:"#FFC0CB",2:"rgba(255, 192, 203, 0.5)",3:"#FF0000",4:"rgba(255, 0, 0, 0.5)",5:"#FF8C00",6:"rgba(255, 140, 0, 0.5)",7:"#FFBF00",8:"rgba(255, 191, 0, 0.5)",9:"#FFFF00",10:"rgba(255, 255, 0, 0.5)",11:"#00FF00",12:"rgba(0, 255, 0, 0.5)",13:"#008000",14:"rgba(0, 128, 0, 0.5)",15:"#008080",16:"rgba(0, 128, 128, 0.5)",17:"#0000FF",18:"rgba(0, 0, 255, 0.5)",19:"#E6E6FA",20:"rgba(230, 230, 250, 0.5)",21:"#800080",22:"rgba(128, 0, 128, 0.5)",23:"#FFFFFF",24:"#FFFFFF"},xe=96,Re=(S={},Object(O.a)(S,0,"All steps in one shot"),Object(O.a)(S,2,"External Step Select"),Object(O.a)(S,1,"Sequence"),S),ke=(M={},Object(O.a)(M,0,"All"),Object(O.a)(M,2,"ESS"),Object(O.a)(M,1,"Seq"),a(16)),Ie=a(25),Se=function(e,t,a){for(var n="",r=a||"0",c=(t||2)-e.length;n.length<c;)n+=r;return n+e},Me=function(e){return null===e||void 0===e?"":Se(e.toString(16),2)},Ae=function(e){return null===e||void 0===e?"":Array.from(e).map(function(e){return Me(e)}).join(" ")},Fe=function(e,t){var a=t?e.replace(t,""):e;if(a.length%2>0)return null;if(0===a.length)return null;for(var n=new Uint8Array(a.length/2),r=0;r<a.length/2;r++)n[r]=parseInt(a.substr(2*r,2),16);return n},_e=4536,Te=240,Be=247,Le="controls",Ue=4,Ge=5,Ze=6,We=7,He=8;function Ve(e){return e&&"object"===typeof e&&!Array.isArray(e)}function Ye(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(!a.length)return e;var r=a.shift();if(Ve(e)&&Ve(r))for(var c in r)Ve(r[c])?(e[c]||Object.assign(e,Object(O.a)({},c,{})),Ye(e[c],r[c])):Object.assign(e,Object(O.a)({},c,r[c]));return Ye.apply(void 0,[e].concat(a))}function Xe(e){return null===e||void 0===e||0===e.length?128:(128-Uint8Array.from(e).reduce(function(e,t){return e+t})%128)%128}function ze(e){return e[0]===Te&&e[e.byteLength-1]===Be}function qe(e){var t,a={},n=e[Ue],r=e[Ge],c=e[Ze],l=e[We];switch(n){case T:case B:break;default:return console.warn("parseSysexMessage: invalid command (".concat(Me(n),")")),null}if(!(r in G))return console.warn("parseSysexMessage: invalid target",Me(r),r,G),null;if(a[r]={},a[r][c]={},7===e.length)return a;if(!(l in ie))return null;if(l===H)t="name";else if(l>=V&&l<=K||l>=J&&l<=re||l>=ce&&l<=le)t="control";else if(l===se)t="midi";else{if(l!==oe)return console.warn("parseSysexMessage: invalid obj",l),null;t="all"}if("name"===t&&(a[r][c].name=function(e){var t=e[1];return String.fromCharCode.apply(null,e.slice(2,2+t))}(e.slice(He))),"control"===t)if(a[r][c][Le]=Object(O.a)({},l,{steps:{}}),e.length>9){var s=e[He];if(s>=1&&s<=36)if(e.length>He+22){var o=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]],active:e[22]}}}(e.slice(He,He+23));a[r][c][Le][l].steps[o.index]=o.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),Ae(e));else if(s===xe){var i=function(e){return{control_mode:e[2]}}(e.slice(He,e.length-1));a[r][c][Le][l]=Ye(a[r][c][Le][l],i)}else if(s>=64&&s<=87){var u=function(e){for(var t,a,n,r={steps:{}},c=0;c<e.length;){var l=e[c];switch(0===c&&(n=""+((l-64)/4+1)),n in r.steps||(r.steps[n]={}),l){case 64:case 68:case 72:case 76:case 80:case 84:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_midi_ctrl=a;break;case 65:case 69:case 73:case 77:case 81:case 85:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_active_color=a;break;case 66:case 70:case 74:case 78:case 82:case 86:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_inactive_color=a;break;case 67:case 71:case 75:case 79:case 83:case 87:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_num=a;break;case 127:c=e.length;break;default:c++}}return r}(e.slice(He,e.length-1));a[r][c][Le][l]=Ye(a[r][c][Le][l],u)}else if(127!==s)return console.warn("parseSysexMessage: unknown element: ".concat(Me(s))),null}else a[r][c][Le]=Object(O.a)({},l,{});if("midi"===t){a[r][c].midi={};var m=e[He];if(!(m>=1&&m<=96))return console.warn("parseSysexMessage: unknown element: ".concat(Me(m))),null;if(e.length>He+19){var d=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]]}}}(e.slice(He,He+20));a[r][c].midi[d.index]=d.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),Ae(e))}return"all"===t&&(a[r][c].all={}),a}function Ke(e){if(null===e)return null;for(var t={},a=0;!((a=e.indexOf(Te,a))<0);){a++;var n=e.indexOf(Be,a),r=Array.from(e.slice(a,a+3)).map(function(e){return Me(e)}).join(" ");if(r!==Ie.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: file does not contain a Nektar Pacer patch",a,n,r,"-",Ae(e)),null;if(127!==e[a+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[a+1+3])),null;var c=qe(e.slice(a,n));c&&Ye(t,c)}return t}function Je(e,t){if(null===e)return[];for(var a=[],n=0;!((n=e.indexOf(Te,n))<0);){n++;var r=e.indexOf(Be,n),c=Array.from(e.slice(n,n+3)).map(function(e){return Me(e)}).join(" ");if(c!==Ie.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: dump does not contain a Nektar Pacer patch",n,r,c,"-",Ae(e)),null;if(127!==e[n+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[n+1+3])),null;a.push(e.slice(n+3,r))}return a}function Qe(){var e=[B,L,oe],t=Xe(e);return e.push(t),_.concat(e)}function $e(e){var t=[B,L,e,oe],a=Xe(t);return t.push(a),_.concat(t)}function et(e,t){var a=[B,L,e,t],n=Xe(a);return a.push(n),_.concat(a)}function tt(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(ke.a)(function(e,t,a){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&!a.control_mode_changed)return[];var n=[T,L,e,t,xe,1,a.control_mode];return n.push(Xe(n)),[_.concat(n)]}(e,t,a[L][e][Le][t],n)).concat(Object(ke.a)(function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],c=Object.keys(a),l=0;l<c.length;l++){var s=c[l],o=a[s];if(n||o.changed){var i=[T,L,e,t];i.push(6*(s-1)+1,1,o.channel,0),i.push(6*(s-1)+2,1,o.msg_type,0),i.push(6*(s-1)+3,1,o.data[0],0),i.push(6*(s-1)+4,1,o.data[1],0),i.push(6*(s-1)+5,1,o.data[2],0),i.push(6*(s-1)+6,1,o.active),i.push(Xe(i)),r.push(_.concat(i))}}return r}(e,t,a[L][e][Le][t].steps,n)),Object(ke.a)(function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],c=Object.keys(a),l=0;l<c.length;l++){var s=c[l],o=a[s];if(n||o.led_changed){var i=[T,L,e,t];i.push(4*(s-1)+64,1,o.led_midi_ctrl,0),i.push(4*(s-1)+65,1,o.led_active_color,0),i.push(4*(s-1)+66,1,o.led_inactive_color,0),i.push(4*(s-1)+67,1,o.led_num),i.push(Xe(i)),r.push(_.concat(i))}}return r}(e,t,a[L][e][Le][t].steps,n)))}function at(e,t){return function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],r=Object.keys(t),c=0;c<r.length;c++){var l=r[c],s=t[l];if(s.changed||a){var o=[T,L,e,se];o.push(6*(l-1)+1,1,s.channel,0),o.push(6*(l-1)+2,1,s.msg_type,0),o.push(6*(l-1)+3,1,s.data[0],0),o.push(6*(l-1)+4,1,s.data[1],0),o.push(6*(l-1)+5,1,s.data[2],0),o.push(6*(l-1)+6,1,s.active),o.push(Xe(o)),n.push(_.concat(o))}}return n}(e,t[L][e].midi)}var nt=function(){function e(){var t=this;Object(s.a)(this,e),this.toggleForceReread=function(){t.forceReread=!t.forceReread},this.sendSysex=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.midi.output){var n=y(t.midi.output);n?a&&n.sendSysex(F,e):console.warn("send: output ".concat(t.midi.output," not found"))}else console.warn("no output enabled to send the message")},this.readPacer=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Please wait...";t.showBusy({busy:!0,busyMessage:n,bytesReceived:0,bytesExpected:a}),t.saveBytes=!1,t.sendSysex(e)},this.readFullDump=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please wait...";t.showBusy({busy:!0,busyMessage:e,bytesReceived:0,bytesExpected:_e}),t.clearBytes(),t.sendSysex(Qe())},this.sendDump=Object(h.a)(f.a.mark(function e(){var a,n,r,c,l,s,o,i,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.midi.output){e.next=3;break}return console.warn("sendPatch: no output enabled to send the message"),e.abrupt("return");case 3:return t.sendProgress="building sysex messages...",e.next=6,j(20);case 6:a=Je(Array.from(t.getBytesPresetsAsBlob())),n=0,r=a.length,c=!0,l=!1,s=void 0,e.prev=12,o=a[Symbol.iterator]();case 14:if(c=(i=o.next()).done){e.next=24;break}return u=i.value,n++,t.sendProgress="sending message ".concat(n," of ").concat(r," (").concat(Math.round(100*n/r),"%)"),t.sendSysex(u),e.next=21,j(10);case 21:c=!0,e.next=14;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(12),l=!0,s=e.t0;case 30:e.prev=30,e.prev=31,c||null==o.return||o.return();case 33:if(e.prev=33,!l){e.next=36;break}throw s;case 36:return e.finish(33);case 37:return e.finish(30);case 38:setTimeout(function(){return t.sendProgress=null},2e3);case 39:case"end":return e.stop()}},e,null,[[12,26,30,38],[31,,33,37]])})),this.data=null,this.bytesPresets=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this.bytesGlobal=[],this.sendProgress=null,this.currentPresetIndex="",this.currentControl="",this.updateMessages={},this.midi={inputs:[],outputs:[],input:0,output:0},this.busy=!1,this.busyMessage="Receiving data, please wait...",this.bytesExpected=-1,this.progress=-1,this.decBase=!0,this.extControls=!0,this.forceReread=!1,this.changed=!1,this.D6InfoVisible=!1,this.D6InfoHidden=!1}return Object(o.a)(e,[{key:"clearBytes",value:function(){this.bytesPresets=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this.bytesGlobal=[]}},{key:"clear",value:function(){console.log("state: clear data"),this.data=null,this.clearBytes(),this.updateMessages={}}},{key:"showD6Info",value:function(){this.D6InfoHidden||(this.D6InfoVisible=!0),console.log("showD6Info()",this.D6InfoVisible)}},{key:"hideD6Info",value:function(){this.D6InfoVisible=!1,this.D6InfoHidden=!0}},{key:"onBusy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.busy,a=void 0!==t&&t,n=e.busyMessage,r=void 0===n?null:n,c=e.bytesExpected,l=void 0===c?-1:c,s=e.bytesReceived,o=void 0===s?-1:s,i=a!==this.busy;i=(i=i||null!==r&&r!==this.busyMessage)||l>0&&l!==this.bytesExpected;var u=-1;this.bytesExpected>0&&o>0&&(u=5*Math.round(o/this.bytesExpected*100/5),i=i||u>=0&&u!==this.progress),i&&(this.busy!==a&&(this.busy=a),null!==r&&(this.busyMessage=r),l>0&&l!==this.bytesExpected&&(this.bytesExpected=l),!1===a?(this.bytesExpected=-1,this.progress=-1):(l>0&&(this.bytesExpected=l),this.progress!==u&&(this.progress=u)))}},{key:"showBusy",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(t.busy,t.busyMessage),n=void 0===a?null:a,r=t.bytesExpected,c=void 0===r?-1:r,l=t.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return e.onBusy({busy:!1})},2e4),this.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})}},{key:"hideBusy",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t<1?this.onBusy({busy:!1}):setTimeout(function(){return e.onBusy({busy:!1})},t)}},{key:"selectPreset",value:function(e){this.currentPresetIndex=e}},{key:"selectControl",value:function(e){this.currentControl=e}},{key:"setControlMode",value:function(e){this.data[L][this.currentPresetIndex][Le][this.currentControl].control_mode=e,this.data[L][this.currentPresetIndex][Le][this.currentControl].control_mode_changed=!0,this.addControlUpdateMessage(this.currentControl,tt(this.currentPresetIndex,this.currentControl,this.data)),this.changed=!0}},{key:"addControlUpdateMessage",value:function(e,t){this.updateMessages.hasOwnProperty(this.currentPresetIndex)||(this.updateMessages[this.currentPresetIndex]={}),this.updateMessages[this.currentPresetIndex].hasOwnProperty(Le)||(this.updateMessages[this.currentPresetIndex][Le]={}),this.updateMessages[this.currentPresetIndex][Le][e]=t}},{key:"updatePresetName",value:function(e,t){void 0!==t&&null!==t&&(t.length>5?console.warn("Presets.updateName: name too long: ".concat(t)):(this.data[L][e].name=t,this.data[L][e].changed=!0,this.updateMessages.hasOwnProperty(e)||(this.updateMessages[e]={}),this.updateMessages[e].hasOwnProperty("name")||(this.updateMessages[e].name={}),this.updateMessages[e].name.dummy=function(e,t){var a=[T,L,e,H,0],n=t[L][e].name;a.push(n.length);for(var r=0;r<n.length;r++)a.push(n.charCodeAt(r));return a.push(Xe(a)),[_.concat(a)]}(e,this.data),this.changed=!0))}},{key:"updateControlStepMessageType",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentPresetIndex,r=parseInt(a,10);this.data[L][n][Le][e].steps[t].msg_type=r,this.data[L][n][Le][e].steps[t].active=r===he?0:1,this.data[L][n][Le][e].steps[t].changed=!0,this.addControlUpdateMessage(e,tt(n,e,this.data)),this.changed=!0}},{key:"updateControlStep",value:function(e,t,a,n,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.currentPresetIndex;console.log("updateControlStep(".concat(e,", ").concat(t,", ").concat(a,", ").concat(n,", ").concat(r,")"));var l=parseInt(r,10);"data"===a?this.data[L][c][Le][e].steps[t].data[n]=l:this.data[L][c][Le][e].steps[t][a]=l,a.startsWith("led_")?this.data[L][c][Le][e].steps[t].led_changed=!0:this.data[L][c][Le][e].steps[t].changed=!0,this.addControlUpdateMessage(e,tt(c,e,this.data)),this.changed=!0}},{key:"updateMidiSettings",value:function(e,t,a,n){var r=parseInt(n,10),c=this.currentPresetIndex;"data"===t?this.data[L][c].midi[e].data[a]=r:this.data[L][c].midi[e][t]=r,"msg_type"===t&&(this.data[L][c].midi[e].active=r===he?0:1),this.data[L][c].midi[e].changed=!0,this.changed=!0,this.updateMessages.hasOwnProperty(c)||(this.updateMessages[c]={}),this.updateMessages[c].hasOwnProperty("midi")||(this.updateMessages[c].midi={}),this.updateMessages[c].midi.dummy=at(c,this.data)}},{key:"readPreset",value:function(e){this.midi.output&&this.midi.input&&this.readPacer($e(e),189)}},{key:"getBytesPresetsAsBlob",value:function(){return new Uint8Array(function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a>0?t.reduce(function(t,n){return t.concat("object"===typeof n?e(n,a-1):n)},[]):t.slice()}(this.bytesPresets,100))}},{key:"isBytesPresetEmpty",value:function(){return!this.bytesPresets.some(function(e){return e&&e.length>0})}},{key:"storeBytes",value:function(e){for(var t,a=0;!((a=e.indexOf(Te,a))<0);){a++;var n=e.indexOf(Be,a),r=e.slice(a-1,n+1),c={isPresetName:(t=r)[Ge+1]===L&&1===t[We+1],isPreset:t[Ge+1]===L,isGlobal:t[Ge+1]===U,presetNum:t[Ze+1]};c&&(c.isPresetName&&(this.bytesPresets[c.presetNum]=[]),c.isPreset?this.bytesPresets[c.presetNum].push(r):c.isGlobal?this.bytesGlobal.push(r):console.warn("storeBytes: unsupported message",r))}}},{key:"readFiles",value:function(){var e=Object(h.a)(f.a.mark(function e(t){var a=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(h.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=5;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),a.hideBusy(),e.next=14;break;case 5:return console.log("readFiles: reading"),a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=10,new Response(t).arrayBuffer();case 10:e.t1=e.sent,ze(n=new e.t0(e.t1))?(a.data=Ye(a.data||{},Ke(n)),a.storeBytes(n)):console.log("readFiles: not a sysex file",Ae(n.slice(0,5))),a.hideBusy();case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"updatePacer",value:function(){var e=this;this.showBusy({busy:!0,busyMessage:"write Preset..."}),Object.getOwnPropertyNames(this.updateMessages).forEach(function(t){Object.getOwnPropertyNames(e.updateMessages[t]).forEach(function(a){Object.getOwnPropertyNames(e.updateMessages[t][a]).forEach(function(n){e.updateMessages[t][a][n].forEach(function(t){e.sendSysex(t)})})})}),setTimeout(function(){e.changed=!1,e.updateMessages={},e.readPreset(e.currentPresetIndex)},1e3)}},{key:"connected",get:function(){return 0!==this.midi.output&&0!==this.midi.input}}]),e}();Object(v.i)(nt,{bytes:v.n,bytesPresets:v.n,bytesGlobal:v.n,sendProgress:v.n,data:v.n,currentPresetIndex:v.n,currentControl:v.n,updateMessages:v.n,midi:v.n,connected:v.f,busy:v.n,busyMessage:v.n,progress:v.n,decBase:v.n,extControls:v.n,forceReread:v.n,changed:v.n,D6InfoVisible:v.n});var rt=new nt,ct=a(100),lt=a(101),st=a(102),ot=a(104);a(53);function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ut=function(e){Object(i.a)(a,e);var t=it(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content home"},r.a.createElement("h1",null,"Requirements"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"This editor requires a browser that support the ",r.a.createElement("a",{href:"http://webaudio.github.io/web-midi-api/",target:"_blank",rel:"noopener noreferrer"},"Web MIDI API"),"."),r.a.createElement("p",null,"Currently, only ",r.a.createElement("span",{className:"strong"},"Chrome")," and ",r.a.createElement("span",{className:"strong"},"Opera")," support this standard. This application will therefore ",r.a.createElement("span",{className:"italic"},"not")," work in Firefox, Safari, IE or Edge."),r.a.createElement("p",null,"This editor does not work on iPad or Android tablet either."),r.a.createElement("p",null,"Ensure your Pacer is running the ",r.a.createElement("a",{href:"https://nektartech.com/updating-firmware-pacer/",target:"_blank",rel:"noopener noreferrer"},"latest firmware v10112"),".")),r.a.createElement("h1",null,"Known issues"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The preset D6 cannot be read.")),r.a.createElement("h1",null,"Limitations"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The current version of this editor isn't able to edit the Global configuration of the Pacer. This is planned for a future release."),r.a.createElement("p",null,"This editor is provided as-is, without warranty of any kind, express or implied. If you encounter a bug, please fill a bug report with ",r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor/issues/new",target:"_blank",rel:"noopener noreferrer"},"this form"),".")),r.a.createElement("h1",null,"Connecting your Pacer"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Make sure your Pacer is connected to your computer and switched-on."),r.a.createElement("p",null,"This editor listen on all MIDI ports. A future version may offer the possibility to choose a specific port."),r.a.createElement("p",null,"In case of problem, when either the application or Pacer does not respond or communicate, try to reload the application (refresh the page) or reboot the Pacer."),r.a.createElement("p",null,"You can find info about WebMIDI at ",r.a.createElement("a",{href:"https://studiocode.dev/support/webmidi/",target:"_blank",rel:"noopener noreferrer"},"studiocode.dev/support/webmidi"))),r.a.createElement("h1",null,"Editing presets"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The preset ",r.a.createElement("span",{className:"strong"},"CUR")," is the ",r.a.createElement("span",{className:"italic fluo"},"current")," preset. When you edit preset ",r.a.createElement("span",{className:"strong"},"CUR")," your changes are immediately applied."),r.a.createElement("p",null,"When you edit any other presets, you edit the ",r.a.createElement("span",{className:"fluo"},"saved")," settings of the preset and your changes will only be applied when you ",r.a.createElement("span",{className:"fluo"},"load")," this preset in the Pacer."),r.a.createElement("p",null,"It is currently not possible to load the preset from this editor."),r.a.createElement("div",null,r.a.createElement("h3",null,"Example 1:"),r.a.createElement("p",null,"The currently loaded preset (CUR) is preset ",r.a.createElement("span",{className:"strong"},"A5"),"."),r.a.createElement("p",null,"You edit the preset ",r.a.createElement("span",{className:"strong"},"A5"),"."),r.a.createElement("p",null,"After you save your modifications, the display will show dots. That means the current preset does not reflect the saved preset anymore. You have to ",r.a.createElement("span",{className:"fluo"},"reload")," the preset to be able to use your updated version:"),r.a.createElement("p",null,"- long-press ",r.a.createElement("span",{className:"strong"},"Preset")," switch, then press switch ",r.a.createElement("span",{className:"strong"},"A"),", then press switch ",r.a.createElement("span",{className:"strong"},"5"),".")),r.a.createElement("div",null,r.a.createElement("h3",null,"Example 1:"),r.a.createElement("p",null,"The currently loaded preset (CUR) is preset ",r.a.createElement("span",{className:"strong"},"A1"),"."),r.a.createElement("p",null,"You edit the preset ",r.a.createElement("span",{className:"strong"},"D3"),"."),r.a.createElement("p",null,"After you save your modifications of preset ",r.a.createElement("span",{className:"strong"},"D3"),", if you want to use it, of course you have to load it:"),r.a.createElement("p",null,"- long-press ",r.a.createElement("span",{className:"strong"},"Preset")," switch, then press switch ",r.a.createElement("span",{className:"strong"},"D"),", then press switch ",r.a.createElement("span",{className:"strong"},"3"),"."))),r.a.createElement("h1",null,"Controls settings"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Each control (buttons 1-6 & A-D, external FS1-FS4 & EXP1-EXP2) can be configured with up to 6 steps."),r.a.createElement("p",null,"At the most basic level, each step has a ",r.a.createElement("span",{className:"italic fluo"},"type")," value that determines the message or action the step will send or execute, as well as 3 data fields that configure the options and parameters for the step depending on the selected type."),r.a.createElement("table",{className:"doc-controls"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("br",null),"Type"),r.a.createElement("th",null,r.a.createElement("br",null),"Description"),r.a.createElement("th",null,"Data 1",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 1",r.a.createElement("br",null),"values"),r.a.createElement("th",null,"Data 2",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 2",r.a.createElement("br",null),"values"),r.a.createElement("th",null,"Data 3",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 3",r.a.createElement("br",null),"values"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Toggle"),r.a.createElement("td",{className:"ctrl-desc"},"Sends a MIDI CC message that toggles between two values each time the button is pressed"),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send on Press 1"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send on Press 2"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Trigger"),r.a.createElement("td",{className:"ctrl-desc"},"Sends a MIDI CC message when the button is pressed"),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send when pressing down"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send when releasing"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Step"),r.a.createElement("td",{className:"ctrl-desc"}," ??? "),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Start value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"End value"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Note"),r.a.createElement("td",{className:"ctrl-desc"},"Send a note when the button is pressed, stop when released"),r.a.createElement("td",null,"Note"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Velocity"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Note Toggle"),r.a.createElement("td",{className:"ctrl-desc"},"Send a note when the button is pressed, stop when pressed again"),r.a.createElement("td",null,"Note"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Velocity"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Program & Bank"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Program Change message when the button is pressed"),r.a.createElement("td",null,"Program"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Bank LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Bank MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Program Step"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Program Step message ??? "),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",null,"Start"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"End"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"NRPN Coarse"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Non-Registered Parameter Number Coarse message"),r.a.createElement("td",null,"Value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"NRPN Fine"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Non-Registered Parameter Number Fine message"),r.a.createElement("td",null,"Value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"MIDI Machine Control"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Machine Control message"),r.a.createElement("td",null,"Device ID"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Command"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Relay Outputs"),r.a.createElement("td",{className:"ctrl-desc"},"Action a Pacer Relay"),r.a.createElement("td",null,"Mode"),r.a.createElement("td",null,"N.O.: 1",r.a.createElement("br",null),"N.C.: 2",r.a.createElement("br",null),"Lat.: 3"),r.a.createElement("td",null,"Relay"),r.a.createElement("td",null,"R1: 0",r.a.createElement("br",null),"R2: 1",r.a.createElement("br",null),"R3: 2",r.a.createElement("br",null),"R4: 3"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Preset Select"),r.a.createElement("td",{className:"ctrl-desc"},"Switch to the target Preset"),r.a.createElement("td",null,"Target"),r.a.createElement("td",null,r.a.createElement("span",{className:"no-break"},"(Bank * 6) + Num"),r.a.createElement("br",null),"Bank A=0,",r.a.createElement("br",null),"Bank B=1.."),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Preset Inc/Dec"),r.a.createElement("td",{className:"ctrl-desc"},"Switch to the next/previous Preset"),r.a.createElement("td",null,"Direction"),r.a.createElement("td",null,"Increment: ??",r.a.createElement("br",null),"Decrement: ??"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Step Select"),r.a.createElement("td",{className:"ctrl-desc"},"?? Action a specific Step for a Control"),r.a.createElement("td",null,"Control Target"),r.a.createElement("td",null,"?? A-D,",r.a.createElement("br",null),"1-6,",r.a.createElement("br",null),"FS1-4,",r.a.createElement("br",null),"EXP1-2"),r.a.createElement("td",null,"Step"),r.a.createElement("td",null,"?? 1-6 (0-indexed?)"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Step Inc/Dec"),r.a.createElement("td",{className:"ctrl-desc"},"?? Action the next/prev Step for a Control"),r.a.createElement("td",null,"Control Target"),r.a.createElement("td",null,"?? A-D,",r.a.createElement("br",null),"1-6,",r.a.createElement("br",null),"FS1-4,",r.a.createElement("br",null),"EXP1-2"),r.a.createElement("td",null,"Direction"),r.a.createElement("td",null,"Increment: ??",r.a.createElement("br",null),"Decrement: ??"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"OFF"),r.a.createElement("td",{className:"ctrl-desc"},"Disable the control, do not action nor send anything"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"))))),r.a.createElement("h1",null,"In case of problem"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Try the following:"),r.a.createElement("p",null,"- Check the MIDI configuration."),r.a.createElement("p",null,"- Reload the editor (F5 or Cmd-R or Ctrl-R)"),r.a.createElement("p",null,"- Restart the Pacer."),r.a.createElement("p",null,"- Close any other applications that may be connected to the Pacer."),r.a.createElement("p",null,"If you mess up the configuration of your Pacer, do a ",r.a.createElement("span",{className:"fluo"},"Factory Restore"),". See page 21 of the Pacer User Guide for the procedure.")),r.a.createElement("h1",null,"MIDI in your browser"),r.a.createElement("div",{className:"doc"},r.a.createElement("div",null,r.a.createElement("p",null,"You need to allow your browser to use your MIDI device:"),r.a.createElement("img",{src:"help-01.png",alt:""})),r.a.createElement("div",null,r.a.createElement("p",null,"In case you didn't allow the use of MIDI device and want to change that, you can right-click on the URL icon and change the setting:"),r.a.createElement("img",{src:"help-02.png",alt:""}))),r.a.createElement("h1",null,"FAQ"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,r.a.createElement("i",null,"To be completed..."))),r.a.createElement("h1",null,"Known issues"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,'- The preset D6 cannot be read by sending a "read preset" sysex. You have to dump it from the Pacer.'),r.a.createElement("p",null,"- LED configuration is displayed for external footswitch and expression pedals.")),r.a.createElement("h1",null,"Contribute"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"This editor is an Open Source project. You are welcome to contribute."),r.a.createElement("p",null,"The source-code is hosted by GitHub: ",r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"pacer-editor")),r.a.createElement("p",null,"To contribute your bug fixes, new features, etc.: 1) fork the project, 2) create a pull-request.")),r.a.createElement("h1",null,"Thanks"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Thank you to the Nektar support service for having provided precious informations regarding the SysEx data format of the Pacer. This editor would not have been possible without their support.")))}}]),a}(n.Component),mt=(a(55),a(31),a(14)),dt=function(e){var t=parseInt(e);if(0===t)return"current";var a=Math.floor((t-1)/6),n=(t-1)%6+1;return String.fromCharCode(a+65)+n.toString()};function pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ft=function(e){var t=e.settings;return null===t||void 0===t?null:r.a.createElement("div",{className:"dump-control"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:"name"},"MIDI settings")),Object.keys(t).map(function(e){var a=ve[t[e].msg_type];return 67===t[e].msg_type&&(a=a+" "+mt.a(t[e].data[0],!0)+" vel. "+t[e].data[1]),r.a.createElement("tr",{key:e},r.a.createElement("td",null,"settings ",e),r.a.createElement("td",null,"ch. ",Me(t[e].channel)),r.a.createElement("td",null,"msg ",Me(t[e].msg_type)),r.a.createElement("td",null,a),r.a.createElement("td",null,Ae(t[e].data)),r.a.createElement("td",null,t[e].active?"active":"OFF"))}))))},ht=function(e){var t=e.settings;return null===t?null:r.a.createElement("div",null,r.a.createElement(ft,{settings:t}))},vt=function(e){var t=e.obj,a=e.config;return null===a||void 0===a?null:r.a.createElement("div",{className:"dump-control"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10,className:"name"},ue[t])),r.a.createElement("tr",null,r.a.createElement("th",null,"step"),r.a.createElement("th",null,"ch."),r.a.createElement("th",null,"type"),r.a.createElement("th",null,"data"),r.a.createElement("th",null,"decoded"),r.a.createElement("th",null,"active"),r.a.createElement("th",null,"LED num"),r.a.createElement("th",null,"LED On"),r.a.createElement("th",null,"LED Off"),r.a.createElement("th",null,"LED midi")),Object.keys(a.steps).map(function(e){var n=ve[a.steps[e].msg_type];67===a.steps[e].msg_type&&(n=n+" "+mt.a(a.steps[e].data[0],!0)+" vel. "+a.steps[e].data[1]);var c=a.steps[e].led_inactive_color,l=a.steps[e].led_active_color;return r.a.createElement("tr",{key:"".concat(t,".").concat(e)},r.a.createElement("td",null,e),r.a.createElement("td",null,Me(a.steps[e].channel)),r.a.createElement("td",null,Me(a.steps[e].msg_type)),r.a.createElement("td",null,Ae(a.steps[e].data)),r.a.createElement("td",null,n),r.a.createElement("td",null,a.steps[e].active?"active":"OFF"),r.a.createElement("td",null,Me(a.steps[e].led_num)),r.a.createElement("td",null,l in Pe?Pe[l]:Me(l)),r.a.createElement("td",null,c in Pe?Pe[c]:Me(c)),r.a.createElement("td",null,Me(a.steps[e].led_midi_ctrl)))}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10},"control mode: ",Re[a.control_mode])))))},Et=function(e){var t=e.controls;return null===t||void 0===t?null:r.a.createElement("div",{className:"dump-controls"},Object.keys(t).map(function(e){return r.a.createElement(vt,{key:e,obj:e,config:t[e]})}))},bt=function(e){var t=e.index,a=e.data;return null===a||void 0===a?null:r.a.createElement("div",null,r.a.createElement("h3",null,"Preset ",dt(parseInt(t,10))," (#",t,"): ",a.name),r.a.createElement(Et,{controls:a.controls}),r.a.createElement(ht,{settings:a.midi}))},gt=function(e){Object(i.a)(a,e);var t=pt(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.state.data;return e?(console.log("DumpSysex render"),r.a.createElement("div",{className:"dump code"},r.a.createElement("div",null,Object.keys(e[L]).map(function(t){return r.a.createElement(bt,{key:t,index:t,data:e[L][t]})})))):null}}]),a}(n.Component),yt=Object(d.b)("state")(Object(d.c)(gt));function Ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}function jt(e,t){return"number"===typeof t?"0x"+Me(t):t}function Nt(e){return null===e?null:[Te].concat(Object(ke.a)(F),Object(ke.a)(e),[Be])}var Ct=function(e){Object(i.a)(a,e);var t=Ot(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={output:null,data:null,messages:[{name:"read current preset",message:$e(0),bytesExpected:189},{name:"read preset A1",message:$e(1),bytesExpected:189},{name:"read stompswitch #1 of preset #5",message:et(5,13),bytesExpected:7},{name:"read all presets (takes some time)",message:Qe(),bytesExpected:4536}],customMessage:""},e.showBusy=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(t.busy,t.busyMessage),n=void 0===a?null:a,r=t.bytesExpected,c=void 0===r?-1:r,l=t.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return e.props.onBusy({busy:!1})},2e4),e.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},e.updateCustomMessage=function(t){var a=(t.target.value.toUpperCase().match(/[0-9A-F ]+/g)||[]).join("");e.setState({customMessage:a})},e.getCustomMessageData=function(){if(e.state.customMessage&&""!==e.state.customMessage){var t=Fe(e.state.customMessage,/ /g);if(t){var a=Array.from(t);if(a&&a.length>0)return a.push(Xe(a)),[_].concat(Object(ke.a)(t))}}return null},e.sendCustomMessage=function(){var t=e.getCustomMessageData();t&&t.length>0&&(e.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:-1}),e.sendSysex(t))},e.sendMessage=function(t){e.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:t.bytesExpected}),e.props.state.sendSysex(t.message)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;console.log("Debug render");for(var t=this.state,a=t.messages,n=t.customMessage,c=this.props.state.data,l=Xe(Fe(n,/ /g)),s="",o=(n.toUpperCase().match(/[0-9A-F]+/g)||[]).join(""),i=0;i<o.length;i++)i>0&&i%2===0&&(s+=" "),s+=o[i];var u=Nt(this.getCustomMessageData())?JSON.stringify(Ke(Uint8Array.from(Nt(this.getCustomMessageData()))),jt,4):"";return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-row-content"},r.a.createElement("div",{className:"debug"},r.a.createElement("pre",null,JSON.stringify(c,null,4)))),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Test messages:"),r.a.createElement("div",{className:"content-row-content-content"},a.map(function(t,a){return r.a.createElement("div",{key:a,className:"send-message"},r.a.createElement("button",{onClick:function(){return e.sendMessage(t)}},"send"),r.a.createElement("span",{className:"code light"},Ae(F.concat(t.message.slice(0,1)))," "),r.a.createElement("span",{className:"code"},Ae(t.message.slice(1,-1))," "),r.a.createElement("span",{className:"code light"}," ",Ae(t.message.slice(-1))),r.a.createElement("span",{className:"message-name"}," ",t.name))}))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Custom message:"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"send-message"},r.a.createElement("button",{onClick:this.sendCustomMessage,disabled:o.length%2!==0},"send"),r.a.createElement("span",{className:"code light"},Ae(F)," ",Ae(_)," "),r.a.createElement("input",{type:"text",className:"code",size:"80",value:n,placeholder:"hex digits only",onChange:this.updateCustomMessage}),r.a.createElement("span",{className:"code light"}," ",Me(l))),r.a.createElement("div",{className:"custom-message code"},r.a.createElement("span",{className:"code light"},Ae(F)," ",Ae(_))," ",s," ",r.a.createElement("span",{className:"code light"},Me(l))),r.a.createElement("div",{className:"debug"},u?r.a.createElement("pre",null,u):r.a.createElement("div",null,"Invalid message. Send at your own risk.")))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Response:"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"message code"},r.a.createElement(yt,{data:c})))),r.a.createElement("div",{className:"content-row-content"})))}}]),a}(n.Component),wt=Object(d.b)("state")(Object(d.c)(Ct));a(58);function Pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Dt=function(e){var t=e.name,a=e.controlIndex,n=e.selected,c=e.onSelect;return r.a.createElement("div",{className:n?"selector selected":"selector",onClick:function(){return c(a)}},r.a.createElement("div",{className:"name"},t))},xt=function(e){Object(i.a)(a,e);var t=Pt(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).selectControl=function(t){e.props.state.selectControl(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.currentControl;return r.a.createElement("div",{className:"controls"},pe.map(function(a){return r.a.createElement(Dt,{key:a,name:ie[a],controlIndex:a,selected:a===t,onSelect:e.selectControl})}),fe.map(function(a){return r.a.createElement(Dt,{key:a,name:ie[a],controlIndex:a,selected:a===t,onSelect:e.selectControl})}),r.a.createElement("div",{className:"no-control"},"\xa0"),me.map(function(a){return r.a.createElement(Dt,{key:a,name:ie[a],controlIndex:a,selected:a===t,onSelect:e.selectControl})}),r.a.createElement("div",{className:"no-control"},"\xa0"),de.map(function(a){return r.a.createElement(Dt,{key:a,name:ie[a],controlIndex:a,selected:a===t,onSelect:e.selectControl})}))}}]),a}(n.Component),Rt=Object(d.b)("state")(Object(d.c)(xt)),kt=a(18);a(60);function It(e){switch(parseInt(e)){case V:case Y:case X:case z:case q:case K:case J:case Q:case $:case ee:return je;case te:case ae:case ne:case re:return Ne;case ce:case le:return Ce;default:return[]}}var St=function(e){var t=e.msgType,a=e.value,n=e.dataIndex,c=e.onChange;if(!Oe[t][n])return"";switch(t){case he:return"";case 67:case 68:return 0!==n?r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(n,e.target.value)}}):r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)},className:"notes"},Array.from(Array(127).keys()).map(function(e){var t=mt.a(e,!0);return r.a.createElement("option",{key:e,value:e},t," (",e,")")}));case 99:return 0===n?r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},Z.map(function(e,t){return e?r.a.createElement("option",{key:t,value:t},e):null})):r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:6},"6"));case 100:return 0===n?r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},Z.map(function(e,t){return e?r.a.createElement("option",{key:t,value:t},e):null})):r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(n,e.target.value)}});case 89:return 0===n?r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},r.a.createElement("option",{value:0},"Auto detect"),r.a.createElement("option",{value:1},"Normally open"),r.a.createElement("option",{value:2},"Normally closed"),r.a.createElement("option",{value:3},"Latching")):r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},r.a.createElement("option",{value:0},"Relay 1"),r.a.createElement("option",{value:1},"Relay 2"),r.a.createElement("option",{value:2},"Relay 3"),r.a.createElement("option",{value:3},"Relay 4"));case 98:case 23:return 0===n?r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},W.map(function(e,t){return r.a.createElement("option",{key:t,value:t},e)})):"";case 0:case 3:case 4:case 1:case 2:case 126:case 71:case 64:case 72:case 69:case 70:case 87:case 88:case 85:case 86:case 18:case 17:case 21:case 22:case 19:case 20:case 16:case 24:case 101:default:return r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(n,e.target.value)}})}};function Mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var At=function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},r.a.createElement("option",{value:"0"},"0"),r.a.createElement("option",{value:"1"},"1"))},Ft=function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},Object.keys(Pe).map(function(e){return r.a.createElement("option",{key:e,value:e},Pe[e])}))},_t=function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},r.a.createElement("option",{value:"0"},"default"),r.a.createElement("option",{value:"3"},"top"),r.a.createElement("option",{value:"2"},"middle"),r.a.createElement("option",{value:"1"},"bottom"))},Tt=Object(d.c)(function(e){var t,a,c,l=e.presetIndex,s=e.controlId,o=e.stepIndex,i=e.config,u=function(e,t){rt.updateControlStep(s,o,"data",e,t,l)},m=function(e,t){rt.updateControlStep(s,o,e,null,t,l)};return i.msg_type===he?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"step-row-header"},"Step ",o,":"),r.a.createElement("div",null,r.a.createElement("select",{value:i.msg_type,onChange:function(e){return rt.updateControlStepMessageType(s,o,e.target.value,l)}},It(s).map(function(e){return r.a.createElement("option",{key:e,value:e},Ee[e])}))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):i.data?(t=r.a.createElement(St,{msgType:i.msg_type,value:i.data[0],dataIndex:0,onChange:u}),a=r.a.createElement(St,{msgType:i.msg_type,value:i.data[1],dataIndex:1,onChange:u}),c=r.a.createElement(St,{msgType:i.msg_type,value:i.data[2],dataIndex:2,onChange:u}),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"step-row-header"},"Step ",o,":"),r.a.createElement("div",null,r.a.createElement("select",{value:i.msg_type,onChange:function(e){return rt.updateControlStepMessageType(s,o,e.target.value,l)}},It(s).map(function(e){return r.a.createElement("option",{key:e,value:e},Ee[e])}))),r.a.createElement("div",null,t,r.a.createElement("div",{className:"data-help"},ye[i.msg_type]?ye[i.msg_type][0]:"")),r.a.createElement("div",null,a,r.a.createElement("div",{className:"data-help"},ye[i.msg_type]?ye[i.msg_type][1]:"")),r.a.createElement("div",null,c,r.a.createElement("div",{className:"data-help"},ye[i.msg_type]?ye[i.msg_type][2]:"")),r.a.createElement("div",null,r.a.createElement("select",{value:i.channel,onChange:function(e){return t=e.target.value,void rt.updateControlStep(s,o,"channel",null,t,l);var t}},Array.from(Array(17).keys()).map(function(e){return r.a.createElement("option",{key:e,value:e},0===e?"global":e)}))),r.a.createElement("div",null,r.a.createElement(Ft,{current_value:i.led_inactive_color,onChange:function(e){return m("led_inactive_color",e)}})),r.a.createElement("div",null,r.a.createElement(Ft,{current_value:i.led_active_color,onChange:function(e){return m("led_active_color",e)}})),r.a.createElement("div",null,r.a.createElement(_t,{current_value:i.led_num,onChange:function(e){return m("led_num",e)}})),r.a.createElement("div",null,r.a.createElement(At,{current_value:i.led_midi_ctrl,onChange:function(e){return m("led_midi_ctrl",e)}})))):null}),Bt=function(e){Object(i.a)(a,e);var t=Mt(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.data[L][this.props.presetIndex][Le][this.props.controlId].steps;return r.a.createElement("div",{className:"steps"},r.a.createElement("div",null),r.a.createElement("div",{className:"step-col-header"},"Type"),r.a.createElement("div",{className:"step-col-header"},"Data 1"),r.a.createElement("div",{className:"step-col-header"},"Data 2"),r.a.createElement("div",{className:"step-col-header"},"Data 3"),r.a.createElement("div",{className:"step-col-header"},"MIDI Ch."),r.a.createElement("div",{className:"step-col-header"},"LED Off"),r.a.createElement("div",{className:"step-col-header"},"LED On"),r.a.createElement("div",{className:"step-col-header"},"LED Num"),r.a.createElement("div",{className:"step-col-header"},"LED MIDI"),Object.keys(t).map(function(a){return r.a.createElement(Tt,{key:a,presetIndex:e.props.presetIndex,controlId:e.props.controlId,stepIndex:a,config:t[a]})}))}}]),a}(n.Component),Lt=Object(d.b)("state")(Object(d.c)(Bt)),Ut=a(13),Gt=(a(64),function(e){return r.a.createElement("div",{className:"control-mode"},r.a.createElement("span",{className:"step-row-header"},"Control mode:"),r.a.createElement("select",{onChange:function(t){return e.onUpdate(t.target.value)},value:e.mode},Object.keys(Re).map(function(e){return r.a.createElement("option",{key:e,value:e},Re[e])})))});function Zt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Wt=function(e){Object(i.a)(a,e);var t=Zt(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onNameUpdate=function(t){e.props.state.updatePresetName(e.props.state.currentPresetIndex,t.target.value.length>5?t.target.value.substr(0,5):t.target.value)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.state.currentPresetIndex,t=this.props.state.data[L][e].name;return r.a.createElement("div",{className:"preset-name-editor"},r.a.createElement("label",null,"Name:")," ",r.a.createElement("input",{value:t,onChange:this.onNameUpdate,size:8}),"max 5 characters")}}]),a}(n.Component),Ht=Object(d.b)("state")(Object(d.c)(Wt));a(66);function Vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Yt=Object(d.c)(function(e){var t=e.xyId,a=e.presetIndex,n=e.hasData,c=e.name,l=e.onClick,s="selector",o=a===rt.currentPresetIndex;return o&&(s+=" selected"),!o&&n&&(s+=" loaded"),"CURRENT"===t&&c?r.a.createElement("div",{className:s,onClick:function(){return l(a)}},"CUR: ",c):r.a.createElement("div",{className:s,onClick:function(){return l(a)}},r.a.createElement("span",{className:"preset-id"},t)," ",r.a.createElement("span",{className:"preset-name"},c))}),Xt=function(e){Object(i.a)(a,e);var t=Vt(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).selectPreset=function(t){e.props.state.selectPreset(t);var a=e.props.state.data;"24"!==t?!e.props.state.forceReread&&a&&a[L]&&a[L][t]||e.props.state.readPreset(t,"reading Pacer..."):e.props.state.showD6Info()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state,a=t.data,c=t.currentPresetIndex,l=a&&a[L]&&a[L][0]?a[L][0].name:"";return r.a.createElement("div",null,r.a.createElement("div",{className:"selectors"},r.a.createElement("div",{className:"preset-selectors"},r.a.createElement(Yt,{xyId:"CURRENT",presetIndex:"0",name:l,xselected:!!c,onClick:this.selectPreset,key:0}),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",{className:"force-read"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:this.props.state.forceReread,onChange:this.props.state.toggleForceReread}),"Always read from Pacer")),["A","B","C","D"].map(function(t){return r.a.createElement(n.Fragment,{key:t},Array.from(Array(6).keys()).map(function(n){var c,l=t+(n+1),s=(6*((c=l).charCodeAt(0)-65)+parseInt(c[1],10)).toString(),o=a&&a[L]&&a[L][s],i=o?a[L][s].name:"";return r.a.createElement(Yt,{xyId:l,presetIndex:s,hasData:o,name:i,key:s,onClick:e.selectPreset})}))}))))}}]),a}(n.Component),zt=Object(d.b)("state")(Object(d.c)(Xt));function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Kt=function(e){Object(i.a)(a,e);var t=qt(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onInputFile=function(e){n.inputOpenFileRef.current.click()},n.onChangeFile=function(e){var t=e.target.files[0];t&&n.props.state.readFiles([t])},n.clearData=function(){n.props.state.clear()},n.inputOpenFileRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.data,a=this.props.state.connected,n=this.props.state.connected&&this.props.state.changed;return r.a.createElement("div",{className:"preset-buttons"},a&&r.a.createElement("button",{className:"action-button read",onClick:function(){return e.props.state.readFullDump()},title:"Read all presets from Pacer"},"Read Pacer"),!a&&r.a.createElement("div",null),n&&r.a.createElement("button",{className:"action-button update",onClick:function(){return e.props.state.updatePacer()}},"Update Pacer"),!n&&r.a.createElement("div",null),r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{className:"action-button",onClick:this.onInputFile},"Load sysex file"),r.a.createElement("div",null),t&&r.a.createElement("button",{className:"action-button",onClick:this.clearData},"CLEAR ALL"),!t&&r.a.createElement("div",null),r.a.createElement("div",null))}}]),a}(n.Component),Jt=Object(d.b)("state")(Object(d.c)(Kt)),Qt=Object(d.c)(function(){return r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Presets"),r.a.createElement("div",{className:"row align-bottom"},r.a.createElement("div",null,r.a.createElement("div",{className:"row align-bottom"},r.a.createElement(zt,null),r.a.createElement(Jt,null)),rt.D6InfoVisible&&r.a.createElement("div",{className:"d6info"},"Due to a yet unsolved problem, the editor cannot read the preset D6. ",r.a.createElement("br",null),"However, you can ask the Pacer to send the preset. Use the encoder knob to select DUMP",r.a.createElement("br",null),"in the top-level menu and then send either a full dump or only the D6 preset.",r.a.createElement("div",{className:"dismiss",onClick:function(){return rt.hideD6Info()}},"[hide]")))))}),$t=Object(d.c)(function(){return rt.updateMessages&&Object.getOwnPropertyNames(rt.updateMessages).length?r.a.createElement("div",{className:"messages-to-send"},r.a.createElement("div",{className:"update-messages-title"},"Updates that will be sent to the Pacer:"),Object.getOwnPropertyNames(rt.updateMessages).map(function(e,t){return Object.getOwnPropertyNames(rt.updateMessages[e]).map(function(t,a){return Object.getOwnPropertyNames(rt.updateMessages[e][t]).map(function(a,n){return function(e,t,a,n){switch(t){case"controls":return r.a.createElement("div",{key:"".concat(e,"-").concat(a,"-ctrl")},"- preset ",dt(e),", control ",ue[a]);case"midi":return r.a.createElement("div",{key:"".concat(e,"-").concat(a,"-midi")},"- preset ",dt(e),", midi");case"name":return r.a.createElement("div",{key:"".concat(e,"-").concat(a,"-name")},"- preset ",dt(e),", name");default:return null}}(e,t,a,rt.updateMessages[e][t][a])})})})):null});a(32);function ea(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}Object(kt.b)(!1);var ta=function(e){Object(i.a)(a,e);var t=ea(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.props.state.changed=!0,n.setState({dropZoneActive:!1},function(){n.props.state.readFiles(e)})},n.updateControlMode=function(e,t){n.props.state.setControlMode(parseInt(t,10))},n.copyPresetFrom=function(e,t){},n.state={dropZoneActive:!1,copyPresetFrom:"-1"},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.currentPresetIndex,a=this.props.state.currentControl,c=this.props.state.data,l=N(t)&&c&&L in c&&t in c[L]&&Le in c[L][t]&&a in c[L][t][Le]&&"steps"in c[L][t][Le][a]&&6===Object.keys(c[L][t][Le][a].steps).length,s="";return c&&L in c&&t in c[L]&&"name"in c[L][t]&&(s=dt(t)+": "+c[L][t].name),r.a.createElement(Ut.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},this.state.dropZoneActive&&r.a.createElement("div",{style:A},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement(Qt,null),c&&c[L][t]&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Preset ",s),r.a.createElement(Ht,null)),c&&c[L][t]&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement(n.Fragment,null,N(t)&&r.a.createElement(Rt,null),l&&r.a.createElement("h3",null,ue[a],":"),l&&r.a.createElement(Gt,{controlId:a,mode:c[L][t][Le][a].control_mode,onUpdate:function(t){return e.updateControlMode(a,t)}}),l&&r.a.createElement(Lt,{presetIndex:t,controlId:a}),!N(t)&&r.a.createElement("div",{className:"please"},"Select a preset."))),this.props.state.changed&&0!==this.props.state.midi.output&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"update",onClick:function(){return e.props.state.updatePacer()}},"Update Pacer"))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement($t,null)))))}}]),a}(n.Component),aa=Object(d.b)("state")(Object(d.c)(ta));a(69);function na(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ra=function(e){Object(i.a)(a,e);var t=na(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"monitor-link"},"Please use the new MIDI monitor available at ",r.a.createElement("a",{href:"https://studiocode.dev/midi-monitor/",target:"_blank",rel:"noopener noreferrer"},"https://studiocode.dev/midi-monitor/")))}}]),a}(n.Component),ca=(a(71),function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"gh"},r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"Source code available on GitHub")),r.a.createElement("div",null,r.a.createElement("p",null,"This web site is not endorsed by, directly affiliated with, maintained, or sponsored by Nektar Technology. This web site is published under ",r.a.createElement("a",{href:"https://www.gnu.org/licenses/gpl-3.0.en.html",target:"_blank",rel:"noopener noreferrer"},"GNU General Public License v3"),".")))}),la=a(19),sa=a.n(la),oa=a(26),ia=a(34),ua=a(35),ma=a(40),da=a(36),pa=a(41),fa=(a(74),function(e,t,a){var n,r=[];return function(){clearTimeout(n);var c=arguments[0];c.data[0]===Te?(r.push(c.data),t(r.length),n=setTimeout(function(){console.log("batchMessages: timeout elapsed"),n=null,e(r),r=[]},a)):console.log("non sysex message ignored")}});a(76);function ha(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var va=function(e){Object(i.a)(a,e);var t=ha(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleMidiInputEvent=fa(function(t){var a=e.props.state.data,n=!0,r=!1,c=void 0;try{for(var l,s=t[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var o=l.value;ze(o)?(a=Ye(a||{},Ke(o)),e.props.state.storeBytes(o)):console.log("MIDI message is not a sysex message",Ae(o))}}catch(i){r=!0,c=i}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}console.log("handleMidiInputEvent: ".concat(t.length," messages merged")),e.props.state.data=a,e.props.state.onBusy({busy:!1})},function(t){e.props.state.onBusy({busy:!0,bytesReceived:t})},1e3),e.connectInput=function(t){t&&(t.hasListener("sysex","all",e.handleMidiInputEvent)?console.log("Midi.connectInput: sysex messages on all channels listener already connected"):(console.log("Midi.connectInput: add listener for sysex messages on all channels"),t.addListener("sysex","all",e.handleMidiInputEvent),console.log("connectInput: ",t.name)))},e.disconnectInput=function(e){e&&(e.removeListener&&e.removeListener(),console.log("disconnectInput: input ".concat(e.id," disconnected")))},e.connectOutput=function(e){e&&console.log("connectOutput: output ".concat(e.id," connected"))},e.disconnectOutput=function(){console.log("disconnectOutput: output disconnected")},e.autoConnectInput=function(){if(e.props.autoConnect&&(console.log("Midi.autoConnectInput: autoConnect ".concat(e.props.autoConnect)),!e.props.state.midi.input)){var t=!0,a=!1,n=void 0;try{for(var r,c=e.props.state.midi.inputs[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var l=r.value;if("input"===l.type&&null!=l.name.match(new RegExp(e.props.autoConnect,"i"))){console.log("Midi.autoConnectInput: connect ".concat(l.name)),e.setState({input:l.id}),e.props.state.midi.input=l.id,e.connectInput(l);break}}}catch(s){a=!0,n=s}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}}},e.autoConnectOutput=function(){if(e.props.autoConnect&&(console.log("Midi.autoConnectOutput: autoConnect ".concat(e.props.autoConnect)),!e.props.state.midi.output)){var t=!0,a=!1,n=void 0;try{for(var r,c=e.props.state.midi.outputs[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var l=r.value;if("output"===l.type&&null!=l.name.match(new RegExp(e.props.autoConnect,"i"))){console.log("Midi.autoConnectOutput: autoConnect: auto-connect ".concat(l.name)),e.props.state.midi.output=l.id,e.connectOutput(l);break}}}catch(s){a=!0,n=s}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}}},e.registerInputs=function(){e.props.state.midi.inputs=E.inputs.filter(function(t){return null!=t.name.match(new RegExp(e.props.only,"i"))}),e.autoConnectInput()},e.registerOutputs=function(){e.props.state.midi.outputs=E.outputs.filter(function(t){return null!=t.name.match(new RegExp(e.props.only,"i"))}),e.autoConnectOutput()},e.unRegisterInputs=function(){console.log("Midi.unRegisterInputs"),e.disconnectInput(g(e.props.state.midi.input)),e.props.state.midi.input=null,e.props.state.midi.inputs=[]},e.unRegisterOutputs=function(){console.log("Midi.unRegisterOutputs"),e.disconnectOutput(),e.props.state.midi.output=null,e.props.state.midi.outputs=[]},e.handleMidiConnectEvent=function(t){"disconnected"===t.type&&(e.disconnectInput(t.port.id),e.disconnectOutput()),t.port.name.match(new RegExp(e.props.only,"i"))?("input"===t.port.type&&e.registerInputs(),"output"===t.port.type&&e.registerOutputs()):console.log("Midi.handleMidiConnectEvent: port ignored: ".concat(t.port.name))},e.selectInputPort=function(t){e.props.state.midi.input&&e.disconnectInput(g(e.props.state.midi.input));var a=g(t.target.value);a?(e.props.state.midi.input=a.id,e.connectInput(a)):console.warn("selectInputPort: port not found",t.target.value)},e.selectOutputPort=function(t){e.props.state.midi.output&&e.disconnectOutput(g(e.props.state.midi.output));var a=g(t.target.value);a?(e.props.state.midi.output=a.id,e.connectOutput(a)):console.warn("selectOutputPort: port not found",t.target.value)},e.midiOn=function(t){t?console.warn("Midi.midiOn: WebMidi could not be enabled.",t):(console.log("Midi.midiOn: WebMidi enabled"),E.addListener("connected",e.handleMidiConnectEvent),E.addListener("disconnected",e.handleMidiConnectEvent))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log("Midi: component did mount: WebMidi.enabled=".concat(E.enabled)),E.enabled?(console.log("Midi: component did mount: already enabled, register ports"),this.registerInputs(),this.registerOutputs()):E.enable(this.midiOn,!0)}},{key:"componentWillUnmount",value:function(){console.log("Midi: component will unmount: unregister ports"),this.unRegisterInputs(),this.unRegisterOutputs()}},{key:"render",value:function(){return r.a.createElement("div",{className:"midi-ports"},r.a.createElement("div",{className:"midi-port-label"},"MIDI input:"),r.a.createElement("select",{value:this.props.state.midi.input,onChange:this.selectInputPort},r.a.createElement("option",{value:0},"- select -"),this.props.state.midi.inputs.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement("div",{className:"midi-port-label"},"MIDI output:"),r.a.createElement("select",{value:this.props.state.midi.output,onChange:this.selectOutputPort},r.a.createElement("option",{value:0},"- select -"),this.props.state.midi.outputs.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))}}]),a}(n.Component),Ea=Object(d.b)("state")(Object(d.c)(va)),ba=a(27),ga=a.n(ba),ya=function(e){var t=e.groupedPorts,a=e.clickHandler;return r.a.createElement("div",{className:"ports-grid"},Object.keys(t).map(function(e,c){return r.a.createElement("div",{className:"port",key:c},r.a.createElement("div",{className:"port-name"},e),t[e].input&&r.a.createElement("div",{className:"port-switch"},r.a.createElement(n.Fragment,null,"in\xa0",r.a.createElement(ga.a,{onChange:function(){return a(t[e].input.id)},checked:t[e].input.selected,className:"react-switch",id:"switch-".concat(t[e].input.id),height:16,width:36}))),t[e].output&&r.a.createElement("div",{className:"port-switch"},r.a.createElement(n.Fragment,null,"out\xa0",r.a.createElement(ga.a,{onChange:function(){return a(t[e].output.id)},checked:t[e].output.selected,className:"react-switch",id:"switch-".concat(t[e].output.id),height:16,width:36}))))}))},Oa=function(e){function t(){var e,a;Object(ia.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(ma.a)(this,(e=Object(da.a)(t)).call.apply(e,[this].concat(r)))).state={data:null},a.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),n=void 0===t?null:t,r=e.bytesExpected,c=void 0===r?-1:r,l=e.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return a.props.onBusy({busy:!1})},2e4),a.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},a.hideBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e<1?a.props.onBusy({busy:!1}):setTimeout(function(){return a.props.onBusy({busy:!1})},e)},a.onDragEnter=function(){a.setState({dropZoneActive:!0})},a.onDragLeave=function(){a.setState({dropZoneActive:!1})},a.onDrop=function(e){a.setState({dropZoneActive:!1},function(){a.readFiles(e)})},a.handleMidiInputEvent=function(e){ze(e.data)?a.setState(Object(kt.a)(function(t){t.data=Ye(t.data||{},Ke(e.data))})):console.log("MIDI message is not a sysex message")},a}return Object(pa.a)(t,e),Object(ua.a)(t,[{key:"readFiles",value:function(){var e=Object(oa.a)(sa.a.mark(function e(t){var a=this;return sa.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(oa.a)(sa.a.mark(function e(t){var n;return sa.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>5242880)){e.next=5;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),a.hideBusy(),e.next=13;break;case 5:return a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=9,new Response(t).arrayBuffer();case 9:e.t1=e.sent,ze(n=new e.t0(e.t1))?a.setState(Object(kt.a)(function(e){e.data=Ye(e.data||{},Ke(n))})):console.log("readFiles: not a sysfile",Ae(n.slice(0,5))),a.hideBusy();case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,a=e.dropZoneActive;return r.a.createElement(Ut.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},a&&r.a.createElement("div",{style:A},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement(Ea,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(ya,{groupedPorts:e,clickHandler:t})},messageType:"sysex",onMidiInputEvent:this.handleMidiInputEvent},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"Send a dump from your Pacer or",r.a.createElement("br",null),"drag & drop a patch file here.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement(yt,{data:t})))))}}]),t}(n.Component);a(79);function ja(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Na=function(e){var t=e.note,a=e.onChange;return r.a.createElement("select",{onChange:function(e){return a(e.target.value)},value:t},Array.from(Array(127).keys()).map(function(e){var t=mt.a(e,!0);return r.a.createElement("option",{key:e,value:e},t)}))},Ca=Object(d.c)(function(e){var t,a,c,l=e.index,s=e.config;return s.msg_type===he?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"setting-row-header"},"message ",l,":"),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return rt.updateMidiSettings(l,"msg_type",null,e.target.value)},value:s.msg_type},be.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):s.data?(67===s.msg_type?(t=r.a.createElement(Na,{note:s.data[0],onChange:function(e){return rt.updateMidiSettings(l,"data",0,e)}}),a=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return rt.updateMidiSettings(l,"data",1,e.target.value)}}),c=""):(t=r.a.createElement("input",{type:"text",value:s.data[0],onChange:function(e){return rt.updateMidiSettings(l,"data",0,e.target.value)}}),a=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return rt.updateMidiSettings(l,"data",1,e.target.value)}}),c=r.a.createElement("input",{type:"text",value:s.data[2],onChange:function(e){return rt.updateMidiSettings(l,"data",2,e.target.value)}})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"setting-row-header"},"Setting ",l,":"),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return rt.updateMidiSettings(l,"msg_type",null,e.target.value)},value:s.msg_type},be.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null,t,r.a.createElement("div",{className:"data-help"},ye[s.msg_type][0])),r.a.createElement("div",null,a,r.a.createElement("div",{className:"data-help"},ye[s.msg_type][1])),r.a.createElement("div",null,c,r.a.createElement("div",{className:"data-help"},ye[s.msg_type][2])),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return rt.updateMidiSettings(l,"channel",null,e.target.value)},value:s.channel},Array.from(Array(17).keys()).map(function(e){return r.a.createElement("option",{key:e,value:e},0===e?"global":e)}))))):null}),wa=function(e){Object(i.a)(a,e);var t=ja(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.state.data[L][this.props.state.currentPresetIndex].midi;return r.a.createElement("div",{className:"settings"},r.a.createElement("div",null),r.a.createElement("div",{className:"setting-col-header"},"Type"),r.a.createElement("div",{className:"setting-col-header"},"Data 1"),r.a.createElement("div",{className:"setting-col-header"},"Data 2"),r.a.createElement("div",{className:"setting-col-header"},"Data 3"),r.a.createElement("div",{className:"setting-col-header"},"MIDI Ch."),Object.keys(e).map(function(t){return r.a.createElement(Ca,{key:t,index:t,config:e[t]})}))}}]),a}(n.Component),Pa=Object(d.b)("state")(Object(d.c)(wa));function Da(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var xa=function(e){Object(i.a)(a,e);var t=Da(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.props.state.changed=!0,n.setState({dropZoneActive:!1},function(){n.props.state.readFiles(e)})},n.state={dropZoneActive:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.currentPresetIndex,a=this.props.state.data,n=!1;return this.props.state.data&&(n=L in a&&t in a[L]&&"midi"in a[L][t]&&16===Object.keys(a[L][t].midi).length),r.a.createElement(Ut.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},this.state.dropZoneActive&&r.a.createElement("div",{style:A},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement(Qt,null),n&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Preset MIDI settings"),r.a.createElement(Pa,null)),this.props.state.changed&&0!==this.props.state.midi.output&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Send the updated config to the Pacer"),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"update",onClick:function(){return e.props.state.updatePacer()}},"Update Pacer"))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement($t,null)))))}}]),a}(n.Component),Ra=Object(d.b)("state")(Object(d.c)(xa)),ka=a(103);var Ia=Object(d.c)(function(e){var t=e.message,a=e.hexDisplay;if(null===t||void 0===t||t.constructor===Object&&0===Object.keys(t).length)return null;for(var c=t.msg_type,l=ye[c],s=t.data,o=[null,null,null],i=0;i<3;i++)l[i]!==ge&&(o[i]=a?Me(s[i]):s[i],0===i&&67===c&&(o[i]+=" ("+mt.a(s[i],!0)+")"));var u="";u=a?Me(t.channel):0===t.channel?"global ch.":"ch. ".concat(t.channel);var m=null,d=null;t.led_active_color&&t.led_inactive_color&&(m=127===t.led_active_color?0:t.led_active_color,d=127===t.led_inactive_color?0:t.led_inactive_color);var p=m>0&&d>0;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"overview-message"},r.a.createElement("div",{className:"overview-message-type"},function(e){if(null===e||void 0===e)return"";var t=e.data;switch(e.msg_type){case 0:return"CC".concat(t[0]," min ").concat(t[1]," max ").concat(t[2]);case 3:return"NRPN C max ".concat(t[0]," ").concat(t[1],": ").concat(t[2]);case 4:return"NRPN F max ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 1:return"PITCH min ".concat(t[1]," max ").concat(t[2]);case 2:return"AT CHAN min ".concat(t[1]," max ").concat(t[2]);case 126:return"DAW FUNC ".concat(t[0]);case he:return"OFF";case 71:return"CC".concat(t[0]," toggle ").concat(t[1]," \u21c4 ").concat(t[2]);case 64:return"CC".concat(t[0]," ").concat("\u21e9").concat(t[1]," ").concat("\u21e7").concat(t[2]);case 72:return"CC".concat(t[0]," step ").concat(t[1]," to ").concat(t[2]);case 67:return"NOTE ".concat(t[0]," vel ").concat(t[1]);case 68:return"NOTE TOGGLE ".concat(t[0]," vel ").concat(t[1]);case 69:return"PRG BANK ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 70:return"PRG STEP ".concat(t[1]," to ").concat(t[2]);case 87:return"NRPN C ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 88:return"NRPN F ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 85:return"MMC ID ".concat(t[0]," cmd ").concat(t[1]);case 89:return"RELAY ".concat(t[1]," ").concat(we[t[0]]);case 98:return"PRESET SELECT ".concat(W[t[0]]);case 86:return"PRESET ".concat(t[0]?"DEC":"INC");case 99:return"".concat(Z[t[0]]," step ").concat(t[1]);case 100:return"STEP ".concat(t[1]?"DEC":"INC"," '").concat(Z[t[0]],"'");case 18:return"MSG_ENC_CC ".concat(t[0]," ").concat(t[1]," ").concat(t[2]);case 17:return"CC REL ".concat(t[0]);case 21:return"NRPN C max ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 22:return"NRPN F max ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 19:return"PITCH min ".concat(t[1]," max ").concat(t[2]);case 20:return"AT CHAN min ".concat(t[1]," max ").concat(t[2]);case 16:return"PRG ".concat(t[1]," to ").concat(t[2]);case 23:return"PRESET SEL ".concat(t[1]," to ").concat(t[2]);case 24:return"STEP SELECT '".concat(Z[t[0]],"', ").concat(t[1]," to ").concat(t[2]);case 101:return"CC".concat(t[0]," ").concat(t[1]);default:return"?".concat(e.msg_type,"? ").concat(t[0]," ").concat(t[1]," ").concat(t[2])}}(t))),t.msg_type!==he&&r.a.createElement("div",{className:"overview-message-ch-colors"},r.a.createElement("div",{className:"msg-midi-channel"},u),p&&r.a.createElement("div",{className:"overview-step-color"},r.a.createElement("div",{className:"color-on",style:{backgroundColor:De[m]},title:Pe[m]}),r.a.createElement("div",{className:"color-off",style:{backgroundColor:De[d]},title:Pe[d]}))))}),Sa=Object(d.c)(function(e){var t=e.step,a=e.hexDisplay;return null===t||void 0===t?null:0===t.active?null:r.a.createElement("div",{className:"overview-step"},r.a.createElement(Ia,{message:t,hexDisplay:a}))}),Ma=Object(ka.a)(Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.history,a=e.presetIndex,n=e.controlIndex,c=e.control,l=e.hexDisplay,s=e.stompswitch,o=void 0===s||s;if(null===c||void 0===c)return null;if(!c.steps)return null;var i=Object.keys(c.steps).filter(function(e){return c.steps[e].active>0}).length;return r.a.createElement("div",{className:"overview-control ".concat(o?"stompswitch":""),onClick:function(){rt.selectPreset(a),rt.selectControl(n),t.push("/preset")},title:"click to edit"},r.a.createElement("div",{className:"control-header"},r.a.createElement("div",{className:"control-name"},ie[n]),i>1&&r.a.createElement("div",null,Re[c.control_mode])),Object.keys(c.steps).map(function(e){return r.a.createElement(Sa,{key:e,step:c.steps[e],hexDisplay:l})}))})),Aa=Object(d.c)(function(e){var t=e.presetIndex,a=e.controls,n=e.hexDisplay,c=e.extControls;if(null===a||void 0===a)return null;var l={presetIndex:t,hexDisplay:n};return r.a.createElement("div",{className:"overview-controls"},c&&pe.map(function(e){return r.a.createElement(Ma,Object.assign({key:e,controlIndex:e,control:a[e]},l,{stompswitch:!1}))}),c&&fe.map(function(e){return r.a.createElement(Ma,Object.assign({key:e,controlIndex:e,control:a[e]},l,{stompswitch:!1}))}),r.a.createElement("div",null),me.map(function(e){return r.a.createElement(Ma,Object.assign({key:e,controlIndex:e,control:a[e]},l))}),r.a.createElement("div",null),de.map(function(e){return r.a.createElement(Ma,Object.assign({key:e,controlIndex:e,control:a[e]},l))}))}),Fa=Object(d.c)(function(e){var t=e.setting,a=e.hexDisplay;return null===t||void 0===t?null:t.msg_type?t.msg_type===he?null:r.a.createElement("div",{className:"overview-midi"},r.a.createElement(Ia,{message:t,hexDisplay:a})):null}),_a=Object(d.c)(function(e){var t=e.settings,a=e.hexDisplay;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview-midi-settings"},r.a.createElement("div",{className:"control-name"},"MIDI"),Object.keys(t).map(function(e){return r.a.createElement(Fa,{key:e,index:e,setting:t[e],hexDisplay:a})}))}),Ta=Object(ka.a)(Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.history,a=e.presetIndex,n=e.presetName;return r.a.createElement("h3",{onClick:function(){rt.selectPreset(a),rt.selectControl(1),t.push("/preset")},title:"click to edit"},dt(parseInt(a,10)),": ",r.a.createElement("span",{className:"bold"},n))})),Ba=Object(d.c)(function(e){var t=e.index,a=e.data,n=e.hexDisplay,c=e.extControls;return null===a||void 0===a?null:r.a.createElement("div",{className:"overview-preset"},r.a.createElement(Ta,{presetIndex:t,presetName:a.name}),r.a.createElement(Aa,{presetIndex:t,controls:a.controls,hexDisplay:n,extControls:c}),function(e){if(e&&e.midi)for(var t in e.midi){var a=e.midi[t];if(a.hasOwnProperty("msg_type")&&a.msg_type!==he)return!0}return!1}(a)&&r.a.createElement(_a,{settings:a.midi,hexDisplay:n}))}),La=Object(d.c)(function(e){var t=e.presets,a=e.hexDisplay,n=e.extControls;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview-presets"},Object.keys(t).map(function(e){return r.a.createElement(Ba,{key:e,index:e,data:t[e],hexDisplay:a,extControls:n})}))}),Ua=Object(d.c)(function(e){var t=e.data,a=e.hexDisplay,n=e.extControls;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview"},r.a.createElement(La,{presets:t[L],hexDisplay:a,extControls:n}))});a(82);function Ga(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Za=function(e){Object(i.a)(a,e);var t=Ga(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.props.state.changed=!0,n.setState({dropZoneActive:!1},function(){n.props.state.readFiles(e)})},n.state={dropZoneActive:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return console.log("overview render"),r.a.createElement(Ut.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},this.state.dropZoneActive&&r.a.createElement("div",{style:A},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement(Qt,null),r.a.createElement("div",{className:"content-row-content"},r.a.createElement(Ua,{data:this.props.state.data,hexDisplay:!this.props.state.decBase,extControls:this.props.state.extControls})))))}}]),a}(n.Component),Wa=Object(d.b)("state")(Object(d.c)(Za));function Ha(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Va=function(e){Object(i.a)(a,e);var t=Ha(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.state,t=e.busy,a=e.busyMessage,n=e.progress;return t?r.a.createElement("div",{className:this.props.className||"busy"},this.props.busyMessage?this.props.busyMessage:a,n>=0&&r.a.createElement("span",null," ",n,"%")):null}}]),a}(n.Component),Ya=Object(d.b)("state")(Object(d.c)(Va)),Xa=a(39);function za(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var qa=function(e){Object(i.a)(a,e);var t=za(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){var a="function"===typeof e.props.data?e.props.data():e.props.data,n=window.URL.createObjectURL(new Blob([a],{type:"application/octet-stream"})),r=e.props.filename;if(e.props.addTimestamp){var c=new Date;r+="."+(c.getUTCFullYear()+"-"+("0"+(c.getUTCMonth()+1)).slice(-2)+"-"+("0"+c.getUTCDate()).slice(-2)+"-"+("0"+c.getUTCHours()).slice(-2)+("0"+c.getUTCMinutes()).slice(-2)+("0"+c.getUTCSeconds()).slice(-2))}var l=document.createElement("a");l.download=r+".syx",l.style.display="none",l.href=n,document.body.appendChild(l),l.click(),document.body.removeChild(l),setTimeout(function(){return window.URL.revokeObjectURL(n)},1e3)},e}return Object(o.a)(a,[{key:"render",value:function(){return this.props.disabled?r.a.createElement("button",{disabled:!0,className:"action-button ".concat(this.props.className)},this.props.label):r.a.createElement("button",{onClick:this.handleClick,className:"action-button ".concat(this.props.className)},this.props.label)}}]),a}(n.Component),Ka=Object(d.b)("state")(Object(d.c)(qa));function Ja(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Qa=function(e){Object(i.a)(a,e);var t=Ja(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.props.state.isBytesPresetEmpty()?null:r.a.createElement(Ka,{data:function(){return e.props.state.getBytesPresetsAsBlob()},filename:"pacer-patch",addTimestamp:!0,label:"Save to file"})}}]),a}(n.Component),$a=Object(d.b)("state")(Object(d.c)(Qa));a(92);function en(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var tn=function(e){Object(i.a)(a,e);var t=en(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeFile=function(e){var t=e.target.files[0];n.props.state.readFiles([t])},n.onInputFile=function(e){n.inputOpenFileRef.current.click()},n.onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.setState({dropZoneActive:!1},function(){n.props.state.readFiles(e)})},n.sendDump=function(){n.props.state.sendDump()},n.inputOpenFileRef=r.a.createRef(),n.state={dropZoneActive:!1,status:null},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.status,n=t.dropZoneActive,c=(this.props.state.midi.output,this.props.state.data);return r.a.createElement(Ut.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},n&&r.a.createElement("div",{style:A},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-row-content first dump-wrapper"},r.a.createElement("h2",null,"Import/Export all presets at once"),r.a.createElement("div",{className:""},r.a.createElement("p",null,"This page allows you to import/export all the Pacer presets at once."),r.a.createElement("p",null,"Please note that, due to a limitation with the current Pacer firmware, the preset D6 cannot be read by this application. A future firmware update should fix this."),r.a.createElement("p",null,"The Global Config is not read or written by this tool. A future update may offer this possibility.")),r.a.createElement("div",null,r.a.createElement("h3",null,"Pacer \u279c file :"),r.a.createElement("button",{className:"action-button read",onClick:function(){return e.props.state.readFullDump()}},"Read Pacer"),r.a.createElement($a,null),r.a.createElement(Ya,{className:"space-left inline-busy",busyMessage:"reading pacer:"})),r.a.createElement("div",null,r.a.createElement("h3",null,"file \u279c Pacer :"),r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{className:"action-button",onClick:this.onInputFile},"Load sysex file"),c&&r.a.createElement("button",{className:"action-button update",onClick:this.sendDump},"Send to Pacer"),this.props.state.sendProgress&&r.a.createElement("span",null,this.props.state.sendProgress)),r.a.createElement("div",null,r.a.createElement("h3",null,"Data included in the dump:"),r.a.createElement("p",null,'Presets marked "no data" are ignored and will not be sent to your Pacer or included in the sysex file.')),r.a.createElement("div",{className:"patch-content"},Array.from(Array(25).keys()).map(function(e){var t=dt(e),a=c&&c[L]&&c[L][e],n=a?c[L][e].name:"";return 0===e?null:r.a.createElement("div",{key:e},r.a.createElement("div",null,t),a?r.a.createElement("div",null,n):r.a.createElement("div",{className:"placeholder"},"no data"))})),a&&r.a.createElement("div",{className:"status ".concat(a.severity)},a.message),c&&r.a.createElement("div",{className:"Xpreset-buttons"},r.a.createElement("button",{onClick:function(){return e.props.state.clear()}},"CLEAR DATA"))))))}}]),a}(n.Component),an=Object(d.b)("state")(Object(d.c)(tn));a(94),a(96);function nn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var rn=function(e){Object(i.a)(a,e);var t=nn(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={supported:!0},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){navigator.requestMIDIAccess?console.log("MidiSupportWarning: midi supported"):(console.log("MidiSupportWarning: midi not supported"),this.setState({supported:!1}))}},{key:"render",value:function(){return this.state.supported?null:r.a.createElement("div",{className:"midi-support-warning-top"},"This browser does not support MIDI. See ",r.a.createElement("a",{href:"https://webmidi.info/",target:"_blank",rel:"noreferrer noopener"},"webmidi.info")," for a list of browsers that support MIDI.")}}]),a}(n.Component);function cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ln=function(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact;return r.a.createElement(ct.a,{path:a,exact:n,children:function(e){var n=e.match;return r.a.createElement("div",{className:n?"header-link active":"header-link"},r.a.createElement(lt.a,{to:a},t))}})},sn=function(){return r.a.createElement("div",{className:"content home"},r.a.createElement("div",{className:"error"},"Invalid URL"))},on=function(e){Object(i.a)(a,e);var t=cn(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=Xa.parse(window.location.search),t=!!e.debug&&"1"===e.debug;return r.a.createElement(d.a,{state:rt},r.a.createElement(st.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(rn,null),r.a.createElement("header",{className:"header"},r.a.createElement(ln,{activeOnlyWhenExact:!0,to:"/",label:"Overview"}),r.a.createElement(ln,{to:"/preset",label:"Preset Controls"}),r.a.createElement(ln,{to:"/presetmidi",label:"Preset MIDI"}),r.a.createElement(ln,{to:"/patch",label:"Import/Export"}),r.a.createElement(ln,{to:"/monitor",label:"Monitor"}),t&&r.a.createElement(ln,{to:"/dumpdecoder",label:"Dump decoder"}),t&&r.a.createElement(ln,{to:"/debug",label:"Debug"}),r.a.createElement(ln,{to:"/help",label:"Help"}),r.a.createElement("div",{className:"spacer"}," "),r.a.createElement("div",{className:"header-app-name"},"Pacer editor ","1.4.0"," by ",r.a.createElement("a",{href:"https://studiocode.dev/",target:"_blank",rel:"noopener noreferrer"},"StudioCode.dev"))),r.a.createElement("div",{className:"subheader row"},r.a.createElement(Ea,{only:".*",autoConnect:"Pacer.*"}),r.a.createElement(Ya,null)),r.a.createElement("div",{className:"main-content-wrapper"},r.a.createElement(ot.a,null,r.a.createElement(ct.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(Wa,{debug:t})}}),r.a.createElement(ct.a,{path:"/preset",render:function(e){return r.a.createElement(aa,{debug:t})}}),r.a.createElement(ct.a,{path:"/presetmidi",render:function(e){return r.a.createElement(Ra,{debug:t})}}),r.a.createElement(ct.a,{path:"/patch",render:function(e){return r.a.createElement(an,{debug:t})}}),r.a.createElement(ct.a,{path:"/monitor",render:function(e){return r.a.createElement(ra,{debug:t})}}),t&&r.a.createElement(ct.a,{path:"/dumpdecoder",render:function(e){return r.a.createElement(Oa,{debug:t})}}),t&&r.a.createElement(ct.a,{path:"/debug",render:function(e){return r.a.createElement(wt,{debug:t})}}),r.a.createElement(ct.a,{exact:!0,path:"/help",render:function(e){return r.a.createElement(ut,null)}}),r.a.createElement(ct.a,{component:sn}))),r.a.createElement(ca,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function un(){}console.log=un,console.warn=un,console.error=un,l.a.render(r.a.createElement(on,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,2,1]]]);
//# sourceMappingURL=main.93a61532.chunk.js.map